
<Pipeline>

<reference class="buffer.ReferenceFile" filename="human_tiny_ref.fa" />

<readsOne class="buffer.FastQFile" filename="reads1.fq" />
<readsTwo class="buffer.FastQFile" filename="reads2.fq" />

<!--  Build index of the reference sequence -->
<bwaIndex class="operator.BWAIndexer" path="/home/brendan/bwa-0.5.9/bwa" algorithm="is" >
	<input>
		<reference />
	</input>
</bwaIndex>

<bwaAlign class="operator.BWAAligner" path="/home/brendan/bwa-0.5.9/bwa">
	<input>
		<reference />
		<readsOne />
	</input>
	<output >
		<readsOneSAI class="buffer.SAIFile" filename="readsOne.sai" />
	</output>
</bwaAlign>

<bwaAlign class="operator.BWAAligner" path="/home/brendan/bwa-0.5.9/bwa">
	<input>
		<reference />
		<readsTwo />
	</input>
	<output >
		<readsTwoSAI class="buffer.SAIFile" filename="readsTwo.sai" />
	</output>
</bwaAlign>


<bwaSampe class="operator.BWASampe" path="/home/brendan/bwa-0.5.9/bwa">
	<input>
		<reference />
		<readsOneSAI />
		<readsTwoSAI />
		<readsOne />
		<readsTwo />
	</input>
	<output>
		<readsSAM class="buffer.SAMFile" filename="reads.sam" />	
	</output>
</bwaSampe>

</Pipeline>
